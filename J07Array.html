<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>  
        /*
        배열 : Java와는 다르게 여러타입의 자료를 저장할 수 있는 메모리 구조를 가진다.
        */
        //선언방법1 : 키워드 Array를 통해 크기를 지정하여 배열을 선언한다.
        var array = new Array(5);
        document.write("배열의크기:"+ array.length); 
        document.write("<h2>배열 초기화 전 출력</h2>");   
        //초기화 전이므로 undefined가 출력된다.    
        for(var i=0 ; i<array.length ; i++){
            document.write("array["+ i +"]="+ array[i] +"<br/>");
        }
        
        //배열초기화 : JS에서는 어떤 타입이든 저장할 수 있다.
        array[0] = 100;
        array[1] = '자바스크립트';
        array[2] = new Date();
        array[3] = 3.14;
        array[4] = false;
        
        document.write("<h2>배열 초기화 후 출력</h2>");
        //앞에서 초기화한 값과 값에 의해 결정된 자료형이 출력된다.
        for(var i=0 ; i<array.length ; i++){
            document.write(i +"번방의 자료형:"+ typeof(array[i])
                    +", array["+ i +"]="+ array[i] +"<br/>");
        }
        
        //선언방법2 : 선언과 동시에 초기화한다.
        var init = new Array("홍길동", 20, "가산디지털", "010-1234-5678");
        document.write("<h2>선언과 동시에 초기화 후 출력</h2>");
        //크기가 4인 배열로 초기화되어 출력한다.
        for(var i=0 ; i<init.length ; i++){
            document.write(i +"번방의 자료형:"+ typeof(init[i])
                    +", init["+ i +"]="+ init[i] +"<br/>");
        }
        
        /*
        선언방법3 : 선언과 동시에 초기화하는 방법으로 차후 JSON의 객체배열로
            주로 사용된다.
        */
        var initNoNew = ["KOSMO", 1, "Javascript", '메르디앙'];
        document.write("<h2>[] 이용하여 배열선언 후 출력</h2>");
        //초기화된 자료에 의해 크기가 4인 배열로 선언된다.
        for(var i=0 ; i<initNoNew.length ; i++){
            document.write(i +"번방의 자료형:"+ typeof(initNoNew[i])
                    +", initNoNew["+ i +"]="+ initNoNew[i] +"<br/>");
        }
        
        /*
        선언방법4 : 웹프로그래밍에서 가장 많이 사용되는 방법으로 배열의 크기를
            결정하지 않은 상태로 선언하고, 마지막 자료에 의해 크기가 결정된다.
        */
        document.write("<h2>배열의 크기 미지정</h2>");
        var nosize = new Array();
        document.write("배열의크기:"+ nosize.length +"<br/>"); //크기 : 0
        //1,2번 인덱스는 값이 없으므로 undefined가 된다.
        nosize[0] = 100; 
        nosize[3] = 'Javascript'; 
        //마지막 인덱스가 3이므로 크기는 4가된다.
        document.write("배열의크기:"+ nosize.length +"<br/>");
        for(var i=0 ; i<nosize.length ; i++){
            document.write(i +"번방의 자료형:"+ typeof(nosize[i])
                    +", nosize["+ i +"]="+ nosize[i] +"<br/>");
        }
        </script>
        
        
</head>
<body>
    <script type="text/javascript">
        //해당 페이지 전체에서 사용할 수 있는 전역변수 선언
        var studentArray = new Array();
        //무기명함수로 선언
        var getAverage = function(){
            //사용자가 입력한 학생수를 가져온다.
            var countOfStudent = document.getElementById("numOfStudent").value;
            //alert("countOfStudent="+countOfStudent);
            //return;
        
        /*
        학생수만큼 반복하면서 배열에 점수를 저장하고, 각 점수를 더해 총점을
        계산한다.
        prompt()를 통해 입력받은 값은 문자열로 반환되므로 산술연산을 위해서는
        숫자로 변경해야 한다.
        */
        var total = 0;
        for(var i=0 ; i<countOfStudent ; i++){
            //배열에 저장
            studentArray[i] = parseInt(prompt(i+1 +"번째 학생점수", "50"));
            //총점을 합산
            total += studentArray[i];
        }
        //평균값
        var average = total / countOfStudent;
        //각 학생의 점수와 총점, 평균값을 하나의 문자열로 만든후 alert로 출력한다.
        var stringResult = "";
        for(var i=0 ; i<countOfStudent ; i++){
            //String형 변수에 문자열을 누적해서 연결한다.
            stringResult += (i+1) +"번째학생의점수:"+studentArray[i] +"\r\n";
        }
        stringResult += "총점:"+ total +", 평균:"+ average;
        alert(stringResult);
        }
    </script>
    <h2>배열을 이용한 평균구하기</h2>
    <!-- table>tr*2>td*2 -->
    <table border="1">
        <tr>
            <td>학생수입력:</td>
            <td><input type="text" id="numOfStudent" size="5" /></td>
        </tr>
        <tr>
            <td colspan="2">
                <button type="button" 
                onclick="getAverage();">평균구하기</button>
            </td>
        </tr>
    </table>
</body>
</html>