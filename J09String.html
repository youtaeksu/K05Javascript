<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J09String.html</title>
    <script>
        document.write("<h2>JS의 Core객체 - String</h2>");

        //문자열 선언시 더블 혹은 싱글쿼테이션 모두 사용할 수 있다.
        var str1 = "Hello Javascript";
        var str2 = "안녕 자바스크립트";
        var str3 = "Hi JS";
        var str4 = new String("Hi 자바스크립트");

        //문자열의 길이
        document.write("str1의 길이:" + str1.length + "<br/>");

        //a태그로 링크를 거는것과 동일하게 link()함수를 사용할 수 있다.
        document.write("링크걸기(태그):" +
            "<a href='http://naver.com'>" + str4 + "</a><br/>");
        document.write("링크걸기(내장함수):" + str4.link('http://naver.com'));

        //특정 인덱스의 문자 하나를 반환한다. '아이디검증'과 같은 기능을 구현할때 사용된다.
        document.write("<h2>charAt(인덱스)</h2>");
        document.write(str1.charAt(1)); //결과 : e

        //문자열잘라내기1 : 인덱스 3부터 7앞까지를 잘라낸다.
        document.write("<h2>substring(시작,끝)</h2>");
        document.write("Academy".substring(3, 7)) //결과 : demy
        //문자열잘라내기2 : 인덱스 3부터 4byte를 잘라낸다.
        document.write("<h2>substr(시작,길이)</h2>");
        document.write("Academy".substr(3, 4));// 결과 demy

        //특정 인덱스의 아스키코드를 반환한다.
        document.write("<h2>charCodeAt(인덱스)</h2>");
        document.write("Academy".charCodeAt(1));

        //아스키코드를 문자로 변경하여 반환한다.
        document.write("<h2>String.formcharCode(아스키코드)</h2>");
        document.write(String.fromCharCode(67) + "<br>");
        document.write(String.fromCharCode(99) + "<br>");

        //문자열은 별도의 변환없이 배열로 사용할 수 있다.
        document.write("<h2>문자열을 배열처럼 사용하기</h2>");
        for (var i = 0; i < str2.length; i++) {
            document.write("str2[" + i + "]=" + str2[i] + "<br/>");
        }
        document.write("<br>");

        /*
        연습문제]나이를 매개변수로 받아 아래와같은 결과를 반환하는 함수를 정의하시오.
        만약 나이가 숫자형식이 아니면 false, 숫자형식이면 true를 반환한다. 
        반환받은 결과를 이용하여 '숫자형식입니다.' 혹은 '숫자형식이아닙니다'라는
        문자열을 출력하는 프로그램을 작성하시오
        */
        function isNumber(param) {
            //매개변수로 전달된 문자열의 길이만큼 반복
            for (var i = 0; i < param.length; i++) {
                console.log(param[i]);
                //각 문자의 아스키 코드값을 확인
                if (!(param[i].charCodeAt(0) >= 48 && param[i].charCodeAt(0) <= 57)) {
                    //문자의 아스키코드가 숫자가 아니라면 즉시 false를 반환하고 함수를 종료
                    return false;
                }
            }
            //모든 문자를 검사한 후 문제가 없다면 true를 반환
            return true;
        }
        document.write("<h2>연습문제 > 숫자형식찾기</h2>");
        var isNum1 = isNumber("100");
        (isNum1 == true) ? document.write("숫자형식<br/>") : document.write("숫자형식아님<br/>");
        var isNum2 = isNumber("100A");
        (isNum2 == true) ? document.write("숫자형식<br/>") : document.write("숫자형식아님<br/>");


        //구분자를 통해 문자열을 분리해서 배열로 반환해주는 함수
        document.write("<h2>split() 함수</h2>");
        document.write("<h3>구분자가 있는경우</h3>");
        var tel = "010-1234-5678";
        //구분자가 있는 경우 크기 3인 배열로 반환된다.
        var telArr = tel.split("-");
        //각 전화번호가 출력된다.
        for (var i = 0; i < telArr.length; i++) {
            document.write("telArr[" + i + "]=" + telArr[i] + "<br/>");
        }
        //구분자가 없는 경우 크기가 1인 배열로 반환된다.
        document.write("<h3>구분자가 없는경우</h3>");
        var telArrNo = tel.split("*");
        for (var i = 0; i < telArrNo.length; i++) {
            document.write("telArrNo[" + i + "]=" + telArrNo[i] + "<br/>");
        }
        //문자열의 앞에서부터 검색하여 문자열을 찾아 인덱스를 반환한다.
        document.write("<h2>indexOf()함수</h2>");
        document.write(str2.indexOf("자바") != -1 ? "자바 포함됨" : "자바 포함안됨");

        //문자열의 뒤에서부터 검색하여 인덱스를 찾아 반환한다.
        document.write("<h2>lastIndexOf()함수</h2>");
        document.write(str1.lastIndexOf("a") != -1 ? "a 포함됨<br/>" : "a 포함안됨<br/>");
        document.write(str1 + "에서 a의 마지막 위치는?" + str1.lastIndexOf("a") + "<br/>");

        /*
        연습문제] 아래 이메일 주소에서 @와 .사이에 있는값만
        추출하여 출력하는 프로그램을 작성하시오.
        xxx@yyy.co.kr 이라면 yyy만 출력되어야 한다.
        */
        var emailArray = ["kim@naver.com", "sung@hanmail.net", "park@ikosmo.co.kr"];
        document.write("<h2>연습문제>도메인 추출하기</h2>");
        var getDomainStr = function (emailArr) {
            //방법1 : indexOf()를 사용하는 방법
            for (var i = 0; i < emailArr.length; i++) {
                //@의 인덱스를 찾은후 1을 더한다.
                var startIndex = emailArr[i].indexOf('@') + 1;
                //.의 인덱스를 찾는다.
                var endIndex = emailArr[i].indexOf('.');
                //앞에서 찾은 인덱스를 통해 문자열을 잘라낸다.
                var resultStr1 = emailArr[i].substring(startIndex, endIndex);
                document.write("결과1:" + resultStr1 + "<br>");
            }

            //방법2 : split()을 사용하는 방법
            for (var i = 0; i < emailArr.length; i++) {
                //이메일을 @를 통해 1차 split한다.
                var firstArr = emailArr[i].split('@');
                //위 결과의 1번 인덱스의 도메인을 통해 2차 split을 진행한다.
                var secondeArr = firstArr[1].split('.');
                //두번째 split결과에서 0번 인덱스를 출력한다.
                var resultStr2 = secondeArr[0];
                document.write("결과2:" + resultStr2 + "<br>");
            }
        }
        /*
        Javascript는 인터프리터 방식이므로 함수를 먼저 선언한 후 호출해야 한다.
        */
        getDomainStr(emailArray);
    </script>
</head>

<body>
    <br><br><br><br><br><br><br><br><br><br>
</body>

</html>